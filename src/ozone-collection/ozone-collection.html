<head>
    <link rel="import" href="../decorators.html">
    <link rel="import" href="../../bower_components/polymer/polymer-element.html">
    <link rel="import" href="../../bower_components/iron-list/iron-list.html">
    <link rel="import" href="../../bower_components/iron-scroll-threshold/iron-scroll-threshold.html">
    <link rel="import" href="../../bower_components/paper-item/paper-item.html">
    <link rel="import" href="../../bower_components/paper-button/paper-button.html">


    <link rel="import" href="../ozone-item-api/ozone-item-api.html">
    <link rel="import" href="../ozone-item/ozone-item.html">


</head>
<body>
<dom-module id="ozone-collection">
    <template>
        <style>
            iron-scroll-threshold {
                top: 10vh;
                left: 25vh;
                right: 25vh;
                height: 40vh;
                text-align: center;
                box-shadow: 0 0 60px rgba(0,0,0,0.5);
            }
            .loader {
                background-color: #0b8043;
                text-align: center;
                height: 44px;
                font: 13px arial;
                line-height: 44px;
                color: white;
            }
            .resultList {
            }
            .resultListItem {
            }

        </style>
        <ozone-item-api collection="items" id="ozoneApi"></ozone-item-api>
        <paper-button on-click="searchItems">Search for *</paper-button>
        <iron-scroll-threshold id="scrollTheshold" on-lower-threshold="toggelThreshold">
            <div class="resultList" >
            <iron-list scroll-target="scrollTheshold" items="[[items]]">
                <template>
                    <ozone-item  item-id="[[item.id]]" item-data="[[item]]" class="resultListItem"></ozone-item>
                </template>
            </iron-list>
            <paper-item class="loader">Fetching new items...</paper-item>
            </div>
        </iron-scroll-threshold>
    </template>
    <script src="ozone-collection.js"></script>
</dom-module>
</body>