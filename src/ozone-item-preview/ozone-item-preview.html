<head>

    <link rel="import" href="../../bower_components/polymer/polymer-element.html">
    <link rel="import" href="../../bower_components/paper-item/paper-item.html">
    <link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
 
    <link rel="import" href="../../bower_components/iron-image/iron-image.html">
    <link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
    <link rel="import" href="../../bower_components/iron-icons/communication-icons.html">

    <link rel="import" href="../decorators.html">
    <link rel="import" href="../ozone-type-api/ozone-type-api.html">
    <link rel="import" href="../tool/mediaUrl.html">
    <link rel="import" href="../ozone-item-abstract-view/ozone-item-abstract-view.html">

</head>
<body>
<dom-module id="ozone-item-preview">
    <template>
        <style>
            :host {
                --actions-panel-colors: {
                    background:#2C2958;
                    background: -webkit-linear-gradient(rgba(44,41,88,.82) 30%, rgba(4,0,47,1) 100%);
                    background: -moz-linear-gradient(rgba(44,41,88,.82) 30%, rgba(4,0,47,1) 100%);
                    background: -o-linear-gradient(rgba(44,41,88,.82) 30%, rgba(4,0,47,1) 100%);
                    background: linear-gradient(rgba(44,41,88,.82) 30%, rgba(4,0,47,1) 100%);
                };
                --actions-panel-icons-color: {
                    color:white;    
                };
                --detail-colors: {
                    background: rgba(0,0,0,0.7);
                    color: white;
                };
            }
            .photoContent{
                position: relative;
                width:300px; 
                height:200px;
                margin:10px;
            }
          .actions-panel {
              @apply --actions-panel-colors;
              position:absolute;
              top:0;
              left:0;
              width:100%;
              height:100%;
              transform:scaleX(0) scaleY(0);
              display:flex;
              flex-direction: row;
              flex-wrap:wrap;
              justify-content: space-evenly;
              align-items: center;
              align-content: center;
              transform-origin: bottom center;
              z-index: 2;
              transition: transform 0.375s cubic-bezier(0.0, 0.0, 0.2, 1);
          }
          .open{
            transform-origin: center center;
            transform: scaleX(1) scaleY(1);
            animation: expand .375s;
            
            
          }

          @keyframes expand {
            0% {
                transform: scaleX(0) scaleY(0);
                transition-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
            }
            20% {
                transform: scaleX(.65) scaleY(0);
                transition-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
            }
          
            100% {
                transform: scaleX(1) scaleY(1);
                 transition-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
            }
          }

          paper-icon-button{
            @apply --actions-panel-icons-color;
            min-height:30px;
            min-width:30px;
            
            --paper-icon-button-hover: {
                background: rgba(255,255,255,.1);
                border-radius:50%;
            };
              
              
          }
          break{
            flex-basis: 100%;
            width: 0px; 
            height: 0px; 
            overflow: hidden;
          }
          iron-image{
              height:100%;
              width:100%;
              --iron-image-placeholder: {
                  background:#fafafa;
              }
          }
          .photoContent:hover > .detail{
              display:flex;
          }
          .detail{
            @apply --detail-colors;
            display:none;
            position: absolute;
            left: 0;
            bottom: 0;
            width: calc(100% - 5px);
            height: 20px;
            font-family: 'Roboto', sans-serif;
            font-size: 14px;
            flex-direction: row;
            align-items: center;
            padding: 2px 0 2px 5px;
            z-index: 1;
          }
        </style>
            <div class="photoContainer">
                <div class="photoContent" tabindex$="[[tabIndex]]" id="photoContent">
                    <iron-image sizing="contain" src="[[previewImage]]" on-tap="_togglePanel" preload fade placeholder="[[placeholder(itemData)]]"> </iron-image>
                    <div class="actions-panel" id="actionsPanel"  on-tap="_togglePanel">
                        <div class="actions-panel-icon"><paper-icon-button icon="create" on-tap="_editItem"></paper-icon-button></div>
                        <div class="actions-panel-icon"><paper-icon-button icon="favorite" disabled></paper-icon-button></div>
                        <div class="actions-panel-icon"><paper-icon-button icon="info" disabled></paper-icon-button></div>
                        <break></break>
                        <div class="actions-panel-icon"><paper-icon-button icon="communication:rss-feed" disabled></paper-icon-button></div>
                        <div class="actions-panel-icon"><paper-icon-button icon="file-download" disabled></paper-icon-button></div>
                        <div class="actions-panel-icon"><paper-icon-button icon="delete" disabled></paper-icon-button></div>
                    </div>
                    <div class="detail">[[itemData.name]]</div>
                </div>

            </div>
    </template>
    <script src="ozone-item-preview.js"></script>
</dom-module>
</body>